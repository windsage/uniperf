package {
    default_applicable_licenses: ["vendor_transsion_license"],
}

// ==================== Aconfig 声明 ====================

aconfig_declarations {
    name: "com.transsion.perfengine.flags-aconfig",
    package: "com.transsion.perfengine.flags",
    container: "system",
    srcs: [
        "flags.aconfig",
    ],
}

// ==================== Java 库 (System 层使用) ====================

java_aconfig_library {
    name: "com.transsion.perfengine.flags-aconfig-java",
    aconfig_declarations: "com.transsion.perfengine.flags-aconfig",

    // SDK 版本
    min_sdk_version: "current",

    // 可在 APEX 中使用
    apex_available: [
        "//apex_available:platform",
        "com.android.apex.cts.shim",
    ],
}

// ==================== C++ 库 (System Native 和 Vendor 都可用) ====================

cc_aconfig_library {
    name: "libperfengine_flags_c",
    aconfig_declarations: "com.transsion.perfengine.flags-aconfig",

    // vendor_available 允许 Vendor 层使用
    vendor_available: true,

    // 支持主机编译 (测试用)
    host_supported: true,
}
