#pragma once

/**
 * PlatformNodeDef.h - Platform node definition entry point
 *
 * Selects the correct platform header at compile time based on the
 * SMON_PLATFORM_QCOM / SMON_PLATFORM_MTK / SMON_PLATFORM_UNISOC macro,
 * which must be set in Android.bp per-target cflags.
 *
 * After inclusion, the following symbol families are available:
 *
 *   GPU_UTIL_CANDIDATES[]        — GPU utilization sysfs paths
 *   GPU_FREQ_CANDIDATES[]        — GPU frequency sysfs paths
 *   CPU_TEMP_CLUSTER0_ZONE_CANDIDATES[]  — thermal zone name list
 *   CPU_TEMP_CLUSTER1_ZONE_CANDIDATES[]
 *   CPU_TEMP_PRIME_ZONE_CANDIDATES[]
 *   GPU_TEMP_ZONE_CANDIDATES[]
 *   SKIN_TEMP_ZONE_CANDIDATES[]
 *   SOC_TEMP_ZONE_CANDIDATES[]
 *   BATTERY_CURRENT_CANDIDATES[]
 *   BATTERY_TEMP_CANDIDATES[]
 *   BATTERY_LEVEL_CANDIDATES[]
 *   CHARGER_ONLINE_CANDIDATES[]
 *
 * CPU utilization (/proc/stat) and memory (/proc/meminfo, /proc/pressure)
 * are universal procfs nodes — no platform-specific candidates needed.
 */

#if defined(SMON_PLATFORM_QCOM)
#include "platform/qcom/QcomNodeDef.h"

// Alias generic names → QCOM-specific arrays so collector code
// can reference platform-agnostic symbols.
#define GPU_UTIL_CANDIDATES QCOM_GPU_UTIL_CANDIDATES
#define GPU_FREQ_CANDIDATES QCOM_GPU_FREQ_CANDIDATES
#define CPU_TEMP_CLUSTER0_ZONE_CANDIDATES QCOM_CPU_TEMP_CLUSTER0_ZONE_CANDIDATES
#define CPU_TEMP_CLUSTER1_ZONE_CANDIDATES QCOM_CPU_TEMP_CLUSTER1_ZONE_CANDIDATES
#define CPU_TEMP_PRIME_ZONE_CANDIDATES QCOM_CPU_TEMP_PRIME_ZONE_CANDIDATES
#define GPU_TEMP_ZONE_CANDIDATES QCOM_GPU_TEMP_ZONE_CANDIDATES
#define SKIN_TEMP_ZONE_CANDIDATES QCOM_SKIN_TEMP_ZONE_CANDIDATES
#define SOC_TEMP_ZONE_CANDIDATES QCOM_SOC_TEMP_ZONE_CANDIDATES
#define BATTERY_CURRENT_CANDIDATES QCOM_BATTERY_CURRENT_CANDIDATES
#define BATTERY_TEMP_CANDIDATES QCOM_BATTERY_TEMP_CANDIDATES
#define BATTERY_LEVEL_CANDIDATES QCOM_BATTERY_LEVEL_CANDIDATES
#define CHARGER_ONLINE_CANDIDATES QCOM_CHARGER_ONLINE_CANDIDATES

#elif defined(SMON_PLATFORM_MTK)
#include "platform/mtk/MtkNodeDef.h"

#define GPU_UTIL_CANDIDATES MTK_GPU_UTIL_CANDIDATES
#define GPU_FREQ_CANDIDATES MTK_GPU_FREQ_CANDIDATES
#define CPU_TEMP_CLUSTER0_ZONE_CANDIDATES MTK_CPU_TEMP_CLUSTER0_ZONE_CANDIDATES
#define CPU_TEMP_CLUSTER1_ZONE_CANDIDATES MTK_CPU_TEMP_CLUSTER1_ZONE_CANDIDATES
#define CPU_TEMP_PRIME_ZONE_CANDIDATES MTK_CPU_TEMP_PRIME_ZONE_CANDIDATES
#define GPU_TEMP_ZONE_CANDIDATES MTK_GPU_TEMP_ZONE_CANDIDATES
#define SKIN_TEMP_ZONE_CANDIDATES MTK_SKIN_TEMP_ZONE_CANDIDATES
#define SOC_TEMP_ZONE_CANDIDATES MTK_SOC_TEMP_ZONE_CANDIDATES
#define BATTERY_CURRENT_CANDIDATES MTK_BATTERY_CURRENT_CANDIDATES
#define BATTERY_TEMP_CANDIDATES MTK_BATTERY_TEMP_CANDIDATES
#define BATTERY_LEVEL_CANDIDATES MTK_BATTERY_LEVEL_CANDIDATES
#define CHARGER_ONLINE_CANDIDATES MTK_CHARGER_ONLINE_CANDIDATES

#elif defined(SMON_PLATFORM_UNISOC)
#include "platform/unisoc/UnisocNodeDef.h"

#define GPU_UTIL_CANDIDATES UNISOC_GPU_UTIL_CANDIDATES
#define GPU_FREQ_CANDIDATES UNISOC_GPU_FREQ_CANDIDATES
#define CPU_TEMP_CLUSTER0_ZONE_CANDIDATES UNISOC_CPU_TEMP_CLUSTER0_ZONE_CANDIDATES
#define CPU_TEMP_CLUSTER1_ZONE_CANDIDATES UNISOC_CPU_TEMP_CLUSTER1_ZONE_CANDIDATES
#define CPU_TEMP_PRIME_ZONE_CANDIDATES UNISOC_CPU_TEMP_PRIME_ZONE_CANDIDATES
#define GPU_TEMP_ZONE_CANDIDATES UNISOC_GPU_TEMP_ZONE_CANDIDATES
#define SKIN_TEMP_ZONE_CANDIDATES UNISOC_SKIN_TEMP_ZONE_CANDIDATES
#define SOC_TEMP_ZONE_CANDIDATES UNISOC_SOC_TEMP_ZONE_CANDIDATES
#define BATTERY_CURRENT_CANDIDATES UNISOC_BATTERY_CURRENT_CANDIDATES
#define BATTERY_TEMP_CANDIDATES UNISOC_BATTERY_TEMP_CANDIDATES
#define BATTERY_LEVEL_CANDIDATES UNISOC_BATTERY_LEVEL_CANDIDATES
#define CHARGER_ONLINE_CANDIDATES UNISOC_CHARGER_ONLINE_CANDIDATES

#else
// Build system must define one of SMON_PLATFORM_QCOM/MTK/UNISOC.
// Emit a compile-time error instead of silently producing a broken build.
#error \
    "SysMonitor: no platform defined. \
Set SMON_PLATFORM_QCOM, SMON_PLATFORM_MTK, or SMON_PLATFORM_UNISOC in Android.bp cflags."
#endif
